---
import Layout from '../layouts/Layout.astro';
import heroImg from '../assets/P1090543.jpg';
---

<Layout>
	<section class="hero" style={`--hero-image: url(${heroImg.src})`}>
		<div class="hero-inner">
			<h1>
				<span>Knowledge is</span>
				<span class="line2">Peace</span>
			</h1>
			<p class="tagline">Creative Learning Haven is a community library project in Uganda's Rhino and Imvepi Refugee Settlements.</p>
			<p class="subtitle">Free access to reading and creative activities will change the futures of refugees and local communities in Uganda.</p>
		</div>
	</section>

	<section class="panels">
		<div class="panel mission">
			<h2>Our Mission</h2>
			<p>When formal education is unreliable, <strong>one must be able to learn independently</strong>. Our libraries provide materials and space for independent learning, helping learners in struggling schools and curious adults continue to grow.</p>
			<a class="link" href="/who-we-are">Read more</a>
		</div>
		<div class="panel pledge">
			<h2>Take a pledge!</h2>
			<a class="cta" href="/support-us">Support Us</a>
		</div>
		<div class="panel socials">
			<h2>Our Socials</h2>
			<p>Follow our journey in starting community libraries in Rhino and Imvepi Refugee Settlements.</p>
			<a class="link" href="/who-we-are">Read more</a>
		</div>
		<div class="panel subscribe">
			<h2>Subscribe</h2>
			<p>Subscribe to our Newsletter</p>
			<form class="subscribe-form" onsubmit="return false">
				<input type="email" placeholder="Email address" />
				<button type="submit">Subscribe</button>
			</form>
		</div>
	</section>
</Layout>

<style>
	.hero {
		position: relative;
		min-height: 68vh;
		/* top: fade into white; middle: dark overlay; bottom: image */
		background-image:
			linear-gradient(to bottom, rgba(255,255,255,0) 84%, rgba(255,255,255,0.9) 96%, #ffffff 100%),
			linear-gradient(180deg, rgba(9,38,49,0.45) 0%, rgba(9,38,49,0.45) 100%),
			var(--hero-image);
		background-size: 100% 100%, 100% 100%, 100% auto; /* overlays cover, image fits width */
		background-position: center top, center top, center top;
		background-repeat: no-repeat, no-repeat, no-repeat;
		color: white;
		display: grid;
		place-items: center;
		z-index: 0;
	}

	.hero-inner {
		max-width: 940px;
		padding: 6vh 16px 8vh;
		text-align: center;
	}

	/* Staggered rise-in animation for hero content (slower + stronger) */
	.hero-inner > * {
		opacity: 0;
		transform: translateY(100px);
		animation: riseIn 1.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
	}

	.hero-inner > *:nth-child(1) { animation-delay: .15s; }
	.hero-inner > *:nth-child(2) { animation-delay: .35s; }
	.hero-inner > *:nth-child(3) { animation-delay: .55s; }

	@keyframes riseIn {
		from { opacity: 0; transform: translateY(60px); filter: blur(4px); }
		to { opacity: 1; transform: translateY(0); filter: blur(0); }
	}

	@media (prefers-reduced-motion: reduce) {
		.hero-inner > * { animation: none; opacity: 1; transform: none; filter: none; }
	}

	.tagline {
		display: inline-block;
		font-size: 1.2em;
		max-width: 700px;
		padding: 8px 14px;
		border-radius: 10px;
		letter-spacing: .08em;
		font-weight: 800; // uses Avenir Heavy
	}

	h1 {
		margin: 10px 0 6px;
		font-size: clamp(34px, 7vw, 76px);
		line-height: 0.95;
		text-transform: uppercase;
	}

	.line2 { display: block; font-size: 1.1em; }

	.subtitle {
		max-width: 780px;
		margin: 12px auto 0;
		font-size: clamp(16px, 2.2vw, 20px);
		color: rgba(255,255,255,0.98);
		text-shadow: 0 1px 2px rgba(0,0,0,0.25);
	}

	.panels {
		display: grid;
		/* Left column wider than right; right â‰ˆ 60% of left (5:3 ratio) */
		grid-template-columns: 5fr 3fr;
		grid-template-rows: auto auto;
		gap: 0;
		max-width: 98%;
		margin: 16px auto 0;
		padding: 0 16px;
		position: relative;
		z-index: 1;
	}

	.panel { padding: 36px 32px; min-height: 280px; }

	.mission {
		background: var(--section-light);
	}

	.pledge {
		background: #cf5b4f;
		color: #fff4f2;
		display: grid;
		place-items: center;
		text-align: center;
	}

	.pledge .cta {
		background: white;
		color: #c0453b;
		text-decoration: none;
		font-weight: 800;
		padding: 12px 18px;
		border-radius: 999px;
		box-shadow: inset 0 -2px 0 rgba(0,0,0,.2);
	}

	.socials { background: #43b29e; color: #083c2f; }
	.socials .link { color: #083c2f; font-weight: 700; }

	.subscribe { background: #17323b; color: #d6efe7; }
	.subscribe-form { display: flex; gap: 8px; margin-top: 8px; }
	.subscribe-form input {
		flex: 1;
		min-width: 0;
		padding: 10px 12px;
		border-radius: 8px;
		border: 1px solid #2d4a53;
		background: #0f272f;
		color: #e6fffb;
	}
	.subscribe-form button {
		background: var(--color-accent);
		color: #083c2f;
		border: 0;
		border-radius: 8px;
		padding: 10px 14px;
		font-weight: 800;
	}

	.link { display: inline-block; margin-top: 12px; font-weight: 700; color: #0a3730; }

	@media (max-width: 900px) {
		.panels { grid-template-columns: 1fr; }
		.panel { min-height: 220px; }
	}
</style>
